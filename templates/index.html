{% extends 'base.html' %}

{% block content %}
<div class="container mt-5">
  <div class="row justify-content-center text-center">
    <div class="col col-8 forefront pb-3">
      {% if g.user %}
      <h4>{{g.user.username}}</h4>
      {% for character in char_data %}
      <div class="row justify-content-center mt-2">
        <div class="col-10">
          <a href="/users/characters/{{character['char_id']}}" class="btn btn-lg btn-outline-success btn-block">
            {{ character['char_name'] }}
          </a>
        </div>
        <div class="col-2">
          <a href="/users/characters/delete/{{character['char_id']}}" class="btn btn-lg btn-outline-danger btn-block">
            delete
          </a>
        </div>
      </div>
      {% endfor %}
      <div class="row justify-content-center mt-2">
        <div class="col">
          <a href="/new-character" class="btn btn-lg btn-outline-primary btn-block">
            New Character
          </a>
        </div> 
      </div>
      <div class="row justify-content-center mt-2">
        <div class="col">
          <a href="/logout" class="btn btn-lg btn-outline-secondary btn-block">
            Logout
          </a>
        </div> 
      </div>
      {% else %}
      <h4>Welcome</h4>
      <a href="/register" class="btn btn-lg btn-block btn-outline-primary mt-2">
        Register
      </a>
      <a href="/login" class="btn btn-lg btn-block btn-outline-primary mt-2">
        Login
      </a>
      {% endif %}
    </div>
  </div>
</div>



<!-- <form method="POST" id="user_form">
  {{ form.hidden_tag() }}

  {% for field in form if field.widget.input_type != 'hidden' %}
    {% for error in field.errors %}
      <span class="text-danger">{{ error }}</span>
    {% endfor %}
    {{ field(placeholder=field.label.text, class="form-control") }}
  {% endfor %}
  <button class="btn btn-primary btn-block btn-lg">search</button>
</form>

{% if result %} 
<p>{{result['name']}}</p>
<ul>
  {% if result['desc']|length != 0 %}
  <li>{{result['desc'][0]}}
  {% endif %}
  <li>{{result['equipment_category']['name']}} - {{result['gear_category']['name']}}</li>
  <li>{{result['cost']['quantity']}} {{result['cost']['unit']}}</li>
  {% if result['contents']|length != 0 %}
  <li>Contents: {{result['contents']}}</li>
  {% endif %}
  {% if result['peroperties']|length != 0 %}
  <li>Properties {{result['peroperties']}}</li>
  {% endif %}
{% endif %} -->


{% endblock %}
